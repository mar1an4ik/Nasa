(this.webpackJsonpnasa=this.webpackJsonpnasa||[]).push([[0],{11:function(e,t,s){e.exports={main:"Posts_main__232JQ",h1:"Posts_h1__Aon8c",post:"Posts_post__395bO",img:"Posts_img__uEFJK",id:"Posts_id__r2k-U",title:"Posts_title__KqLt_",body:"Posts_body__3U6iA"}},13:function(e,t,s){e.exports={main:"PostCreate_main__38SIz",title:"PostCreate_title__3g826",descr:"PostCreate_descr__2ajWT",blogLogo:"PostCreate_blogLogo__1qvcQ",textArea:"PostCreate_textArea__1gY5-",textAreaTitle:"PostCreate_textAreaTitle__3mcx4",textareaDescr:"PostCreate_textareaDescr__DBhH7",textareaTitle:"PostCreate_textareaTitle__GOe0K",but:"PostCreate_but__1LTlv",mainForm:"PostCreate_mainForm__zOk9d",sim:"PostCreate_sim__1HHtC",header2:"PostCreate_header2__1LZ7y"}},14:function(e,t,s){e.exports={NavBar:"NavBar_NavBar__2YZ70",navLinks:"NavBar_navLinks__3w2Iu",welcome:"NavBar_welcome__2kM1C",menu:"NavBar_menu__tR6pC",logo:"NavBar_logo__1JzJ0"}},20:function(e,t,s){e.exports={main:"PostInfo_main__2W4Fh",title:"PostInfo_title__3dtCH",body:"PostInfo_body__2aroe",id:"PostInfo_id__3ahh9"}},44:function(e,t,s){e.exports={loginMain:"Login_loginMain__2P42M"}},50:function(e,t,s){},51:function(e,t,s){},76:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s(0),r=s.n(a),o=s(21),c=s.n(o),i=(s(50),s(51),s(3)),u=s(11),d=s.n(u),l=function(e){return Object(n.jsxs)("div",{className:d.a.main,children:[Object(n.jsx)("h1",{className:d.a.h1,children:"Your posts:"}),e.arrayPosts.reverse()]})},j=s(10),b=s(19),h=s.n(b),g=s(28),p=s(32),f=s(18),O=s(26),_=s(29),m=s.n(_),x=m.a.create({}),v=function(e){return x.get("https://jsonplaceholder.typicode.com/posts?userId="+e).then((function(e){return e.data}))},P=function(e,t){return x.post("https://jsonplaceholder.typicode.com/posts",{title:e,body:t})},N=function(){return m.a.get("https://jsonplaceholder.typicode.com/users").then((function(e){return e.data}))},y={posts:[]},T=function(e){return{type:"setPosts",arrayPosts:e}},L=function(e,t){return{type:"addPost",title:e,body:t}},k=function(e){return function(){var t=Object(g.a)(h.a.mark((function t(s){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:n=t.sent,s(T(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setPosts":var s=Object(f.a)({},e);return s.posts=Object(p.a)(e.posts),s.posts=t.arrayPosts,s;case"addPost":var n=Object(f.a)({},e);return n.posts=Object(p.a)(e.posts),n.posts.push({title:t.title,body:t.body,id:n.posts[n.posts.length-1].id+1}),n;default:return e}},w=s(8),I=Object(i.e)(Object(j.b)((function(e){return{arrayPosts:e.postsTree.posts,userId:e.loginTree.userId,isLogged:e.loginTree.isLogged}}),{setPostsThunk:k})((function(e){var t=e.arrayPosts.map((function(e){return Object(n.jsx)(w.b,{to:"/Nasa/post"+e.id,children:Object(n.jsxs)("div",{className:d.a.post,children:[Object(n.jsx)("div",{className:d.a.title,children:Object(n.jsx)("h3",{children:e.title})}),Object(n.jsx)("img",{alt:"img",className:d.a.img,src:"https://cdn.iconscout.com/icon/free/png-256/post-5-100382.png"}),Object(n.jsx)("span",{className:d.a.body,children:e.body}),Object(n.jsxs)("div",{className:d.a.id,children:["#",e.id]})]})})}));return Object(a.useEffect)((function(){e.isLogged||e.history.push("/Nasa/login")}),[e.isLogged]),Object(a.useEffect)((function(){e.arrayPosts.length<1&&e.setPostsThunk(e.userId)}),[]),Object(a.useEffect)((function(){e.arrayPosts.length<1&&e.setPostsThunk(e.userId)}),[e.arrayPosts.length]),Object(n.jsx)(l,{isLogged:e.isLogged,arrayPosts:t})}))),B=s(33),E=s(13),A=s.n(E),F=function(e){var t=Object(a.useState)(""),s=Object(B.a)(t,2),r=s[0],o=s[1],c=Object(a.useState)(""),i=Object(B.a)(c,2),u=i[0],d=i[1];return Object(n.jsx)("div",{className:A.a.main,children:Object(n.jsxs)("div",{className:A.a.mainForm,children:[Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:A.a.header2,children:["Create your new intresting post!",Object(n.jsx)("img",{alt:"logo",className:A.a.blogLogo,src:"https://www.accfb.org/wp-content/uploads/2018/06/Blog-icon.png"})]}),Object(n.jsx)("div",{children:Object(n.jsx)("textarea",{onChange:function(e){o(e.target.value)},value:r,className:A.a.textAreaTitle,rows:1,cols:50,placeholder:"Enter title"})}),Object(n.jsx)("div",{children:Object(n.jsx)("textarea",{onChange:function(e){d(e.target.value)},value:u,className:A.a.textArea,placeholder:"Enter Description"})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){e.addPostThunk(r,u),o(""),d(""),alert("Posted!")},className:A.a.but,children:"Post"})})]})})},M=Object(i.e)(Object(j.b)((function(e){return{arrayPosts:e.postsTree.posts,isLogged:e.loginTree.isLogged}}),{setPostsThunk:k,addPostThunk:function(e,t){return function(){var s=Object(g.a)(h.a.mark((function s(n){return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,P(e,t);case 2:n(L(e,t));case 3:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return Object(a.useEffect)((function(){e.arrayPosts.length<1&&e.setPostsThunk(1)}),[]),Object(a.useEffect)((function(){e.isLogged||e.history.push("/Nasa/login")}),[e.isLogged]),Object(n.jsx)(F,{addPostThunk:e.addPostThunk})}))),D=s(12),H=s(20),J=s.n(H),S=function(e){var t=Number(e.id),s="Not found",a=e.arrayPosts.find((function(e){return e.id==t}));return Object(n.jsxs)("div",{className:J.a.main,children:[Object(n.jsx)("div",{className:J.a.title,children:a?a.title:s}),Object(n.jsx)("div",{className:J.a.body,children:a?a.body:s}),Object(n.jsxs)("div",{className:J.a.id,children:["#",a?a.id:s]})]})},z=function(){return Object(n.jsx)("div",{children:"LOADING"})},K=Object(D.d)(Object(j.b)((function(e){return{arrayPosts:e.postsTree.posts,isLogged:e.loginTree.isLogged}}),{setPostsThunk:k}),i.e)((function(e){return Object(a.useEffect)((function(){e.arrayPosts.length<1&&e.setPostsThunk()}),[]),Object(a.useEffect)((function(){e.isLogged||e.history.push("/Nasa/login")}),[e.isLogged]),e.arrayPosts.length>1?Object(n.jsx)(S,{id:e.match.params.postId,arrayPosts:e.arrayPosts}):Object(n.jsx)(z,{})})),U=s(14),W=s.n(U),Y=function(){return Object(n.jsxs)("div",{className:W.a.NavBar,children:[Object(n.jsx)("span",{className:W.a.logo,children:Object(n.jsx)("img",{src:"https://i.ibb.co/yfp2PHT/logo.png",className:W.a.logo})}),Object(n.jsxs)("div",{className:W.a.navLinks,children:[Object(n.jsx)("span",{className:W.a.welcome,children:"Welcome to your blog!"}),Object(n.jsxs)("nav",{className:W.a.menu,children:[Object(n.jsx)(w.b,{to:"/Nasa/",children:Object(n.jsx)("a",{children:"My blog"})})," ","  ",Object(n.jsx)(w.b,{to:"/Nasa/new",children:Object(n.jsx)("a",{children:"Create Post"})})," ","  "]})]})]})},q={userName:"",isLogged:!1,userId:0},G=function(e,t){return{type:"setAuth",userName:e,userId:t}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setAuth":var s=Object(f.a)({},e);return s.userName=t.userName,s.isLogged=!0,s.userId=t.userId,s;default:return e}},R=s(44),Z=s.n(R),V=Object(i.e)(Object(j.b)((function(e){return{isLogged:e.loginTree.isLogged,userName:e.loginTree.userName}}),{loginThunk:function(e){var t=!1;return function(s){N().then((function(n){for(var a=0,r=Object.values(n);a<r.length;a++){var o=r[a];if(o.username==e){s(G(e,o.id)),t=!0;break}}!1===t&&alert("No such user")}))}}})((function(e){var t=r.a.createRef();Object(a.useEffect)((function(){e.userName&&(alert("Hello "+e.userName),e.history.push("/Nasa/"))}),[e.isLogged]);return Object(n.jsxs)("div",{className:Z.a.loginMain,children:[Object(n.jsx)("div",{children:Object(n.jsx)("input",{type:"textarea",ref:t,placeholder:"UserName"})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{type:"password",placeholder:"simulatedPassword"})}),Object(n.jsx)("button",{onClick:function(){e.loginThunk(t.current.value)},children:"Login"})]})})));var X=function(){return Object(n.jsxs)("div",{className:"app-wrapper",children:[Object(n.jsx)(Y,{}),Object(n.jsxs)("div",{className:"app-wrapper-content",children:[Object(n.jsx)(i.a,{exact:!0,path:"/Nasa",component:I}),Object(n.jsx)(i.a,{exact:!0,path:"/Nasa/post:postId",component:K}),Object(n.jsx)(i.a,{exact:!0,path:"/Nasa/new",component:M}),Object(n.jsx)(i.a,{exact:!0,path:"/Nasa/login",component:V})]})]})},$=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,77)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;s(e),n(e),a(e),r(e),o(e)}))},ee=Object(D.c)({postsTree:C,loginTree:Q}),te=Object(D.e)(ee,Object(D.a)(O.a));c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(w.a,{children:Object(n.jsx)(j.a,{store:te,children:Object(n.jsx)(X,{})})})}),document.getElementById("root")),$()}},[[76,1,2]]]);
//# sourceMappingURL=main.54677fd8.chunk.js.map